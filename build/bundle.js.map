{
  "version": 3,
  "file": "bundle.js",
  "sourceRoot": "",
  "sources": [
    "../MyMaterials.ts",
    "../CubeManager.ts",
    "../FirstPersonControls.ts",
    "../CrossHair.ts",
    "../Scoreboard.ts",
    "../Autowired.ts",
    "../Room.ts",
    "../Cube.ts",
    "../Main.ts",
    "../Util.ts"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "import {Autowired} from \"./Autowired\";\nexport class MyMaterials {\n    autowired: Autowired;\n    wallMaterial: CANNON.Material;\n    playerMaterial: CANNON.Material;\n    cubeMaterial: CANNON.Material;\n\n    slipperyMaterial: CANNON.Material;\n\n    constructor(autowired: Autowired) {\n        this.autowired = autowired;\n        this.wallMaterial = new CANNON.Material(\"wallMaterial\");\n        this.playerMaterial = new CANNON.Material(\"playerMaterial\");\n        this.cubeMaterial = new CANNON.Material(\"cubeMaterial\");\n        this.slipperyMaterial = new CANNON.Material(\"slipperyMaterial\");\n\n        this.autowired.world.addContactMaterial(\n            new CANNON.ContactMaterial(\n                this.slipperyMaterial,\n                this.playerMaterial,\n                {\n                    friction: 0.7,\n                    restitution: 0.0\n                }\n            )\n        );\n\n        /*\n         this.world.addContactMaterial(\n         new CANNON.ContactMaterial(\n         this.cubeMaterial,\n         this.slipperyMaterial,\n         {\n         friction: 0.2,\n         restitution: 0.0\n         }\n         )\n         );*/\n\n        //this.world.addContactMaterial(new CANNON.ContactMaterial(this.wallMaterial, this.playerMaterial, { friction: 0.0, restitution: 0.0 }));\n        //this.world.addContactMaterial(new CANNON.ContactMaterial(this.wallMaterial, this.cubeMaterial, { friction: 0.0, restitution: 0.0 }));\n        //this.world.addContactMaterial(new CANNON.ContactMaterial(this.playerMaterial, this.cubeMaterial, { friction: 0.0, restitution: 0.0 }));\n    }\n}",
    "import {Cube} from \"./Cube\";\nimport {Autowired} from \"./Autowired\";\n\nexport class CubeManager {\n    cubes: Cube[] = [];\n    autowired: Autowired;\n    a: number = 200000;\n    numberOfUpdates: number = 2000;\n\n\n    public constructor(autowired: Autowired) {\n        this.autowired = autowired;\n    }\n\n    private createCube() {\n        let cube: Cube = new Cube(this.autowired);\n        this.cubes.push(cube)\n    }\n\n    public update() {\n        //probability approaches 1 as this.numberOfUpdates approaches a\n        let probability: number = this.numberOfUpdates / (this.numberOfUpdates + this.a);\n        if (Math.random() < probability) {\n            this.createCube();\n        }\n        for (let cube of this.cubes) {\n            cube.update();\n        }\n        this.numberOfUpdates++;\n    }\n\n    public removeCube(mesh: THREE.Object3D) {\n        let badCubeIndex: number = -1;\n        for (let i = 0; i < this.cubes.length; i++) {\n            if (mesh == this.cubes[i].threeCube) {\n                badCubeIndex = i;\n            }\n        }\n        if (badCubeIndex != -1) {\n            this.autowired.scoreboard.addScore();\n            this.cubes[badCubeIndex].destroy();\n            this.cubes.splice(badCubeIndex, 1);\n            this.playDestroySound();\n        }\n    }\n\n    private playDestroySound() {\n        beeplay().play(['C#4', 'C#5', 'C#6', 'C#7'], 1 / 2);\n    }\n}",
    "import {Autowired} from \"./Autowired\";\nimport {Room} from \"./Room\";\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author paulirish / http://paulirish.com/\n */\n//Modified by Lucas Knutson\n\nexport class FirstPersonControls {\n    mass: number = 1.5;\n    autowired: Autowired;\n    radius: number = 0.3;\n    target: THREE.Vector3 = new THREE.Vector3(0, 0, 0);\n    domElement: any;\n    movementSpeed: number = 1.0;\n    lookSpeed: number = 0.05;\n    autoForward: boolean = false;\n    moveForward: boolean = false;\n    moveBackward: boolean = false;\n    moveLeft: boolean = false;\n    moveRight: boolean = false;\n    jump: boolean = false;\n    framesBeforeHideLazer: number = -100;\n\n    pitchObject: THREE.Object3D;\n    yawObject: THREE.Object3D;\n\n    laserBeams: THREE.Mesh[] = [];\n\n    physics: CANNON.Body;\n\n\n    constructor(autowired: Autowired, domElement: any) {\n        this.autowired = autowired;\n        this.pitchObject = new THREE.Object3D();\n        this.pitchObject.add(this.autowired.camera);\n        this.yawObject = new THREE.Object3D();\n        this.yawObject.add(this.pitchObject);\n\n        this.physics = new CANNON.Body({\n            mass: this.mass,\n            position: new CANNON.Vec3(0, 5, 0),\n            shape: new CANNON.Sphere(this.radius),\n            material: this.autowired.myMaterials.playerMaterial,\n            linearDamping: 0.9,\n            angularDamping: 0.9\n        });\n\n        let levelsOfLazer = 40;\n        for (let i = 1; i <= levelsOfLazer; i++) {\n            //inner to outer\n            let radius = 0.0005 * i;\n            let geometry = new THREE.CylinderGeometry(radius, radius, 1000);\n            let material = new THREE.MeshLambertMaterial({\n                color: 0xFF0000,\n                transparent: true,\n                opacity: 0.1,\n            });\n            let laserBeam = new THREE.Mesh(geometry, material);\n            laserBeam.visible = false;\n            this.autowired.glowScene.add(laserBeam);\n            this.laserBeams.push(laserBeam);\n        }\n\n\n\n        this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n        this.domElement.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n        }, false);\n\n        this.domElement.addEventListener('mousemove', bind(this, this.onMouseMove), false);\n        this.domElement.addEventListener('mousedown', bind(this, this.onMouseDown), false);\n        this.domElement.addEventListener('mouseup', bind(this, this.onMouseUp), false);\n        this.domElement.addEventListener('keydown', bind(this, this.onKeyDown), false);\n        this.domElement.addEventListener('keyup', bind(this, this.onKeyUp), false);\n\n        function bind(scope, fn) {\n            return function () {\n                fn.apply(scope, arguments);\n            };\n        };\n    }\n\n    onMouseDown = (event) => {\n        if (this.domElement !== document) {\n            this.domElement.focus();\n        }\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.autowired.isGameOver) {\n            this.shoot();\n        }\n    };\n\n    private shoot() {\n        if (this.framesBeforeHideLazer < -10) {\n            let raycaster: THREE.Raycaster = new THREE.Raycaster();\n            raycaster.set(this.autowired.camera.getWorldPosition(), this.autowired.camera.getWorldDirection());\n            let intersections: THREE.Intersection[] = raycaster.intersectObjects(this.autowired.scene.children);\n            for (let intersection of intersections) {\n                this.autowired.cubeManager.removeCube(intersection.object)\n            }\n            this.playShootSound();\n            this.framesBeforeHideLazer = 6;\n        }\n    }\n\n\n    private playShootSound() {\n        beeplay().play('C#4', 1 / 2);\n    }\n\n\n    private canJump() {\n        let tolerance: number = 0.1;\n        let mustBeCloserThan = this.radius + tolerance;\n\n        let raycaster: THREE.Raycaster = new THREE.Raycaster();\n        raycaster.set(this.autowired.camera.getWorldPosition(), new THREE.Vector3(0, -1, 0));\n        let intersections: THREE.Intersection[] = raycaster.intersectObjects(this.autowired.scene.children);\n        for (let intersection of intersections) {\n            if (intersection.distance < mustBeCloserThan) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    onMouseUp = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n    };\n\n    shouldUpdate = (): boolean => {\n        let element = document.body;\n        let havePointerLock: boolean = ( document.pointerLockElement === element );\n        return havePointerLock && !this.autowired.isGameOver;\n    };\n    onMouseMove = (event) => {\n        if (this.shouldUpdate()) {\n            let movementX = event.movementX || event.mozMovementX || event.webkitMovementX || 0;\n            let movementY = event.movementY || event.mozMovementY || event.webkitMovementY || 0;\n            let PI_2 = Math.PI / 2;\n\n            this.yawObject.rotation.y -= movementX * 0.002;\n            this.pitchObject.rotation.x -= movementY * 0.002;\n\n            this.pitchObject.rotation.x = Math.max(-PI_2, Math.min(PI_2, this.pitchObject.rotation.x));\n        }\n    };\n\n    onKeyDown = (event) => {\n        switch (event.keyCode) {\n            case 38: /*up*/\n            case 87: /*W*/\n                this.moveForward = true;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 37: /*left*/\n            case 65: /*A*/\n                this.moveLeft = true;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 40: /*down*/\n            case 83: /*S*/\n                this.moveBackward = true;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 39: /*right*/\n            case 68: /*D*/\n                this.moveRight = true;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 32: /*space*/\n                this.jump = true;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n        }\n    };\n\n    onKeyUp = (event) => {\n        switch (event.keyCode) {\n            case 38: /*up*/\n            case 87: /*W*/\n                this.moveForward = false;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 37: /*left*/\n            case 65: /*A*/\n                this.moveLeft = false;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 40: /*down*/\n            case 83: /*S*/\n                this.moveBackward = false;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 39: /*right*/\n            case 68: /*D*/\n                this.moveRight = false;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            case 32: /*space*/\n                this.jump = false;\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n        }\n    };\n\n    update = (delta) => {\n        let actualMoveSpeed: number = 0;\n        if (this.shouldUpdate()) {\n            for (let laserbeam of this.laserBeams) {\n                laserbeam.visible = (this.framesBeforeHideLazer > 0);\n            }\n            this.framesBeforeHideLazer--;\n            actualMoveSpeed = delta * this.movementSpeed * 50;\n            let movementImpulse: THREE.Vector3 = new THREE.Vector3();\n\n            if (this.moveForward) movementImpulse.z -= actualMoveSpeed;\n            if (this.moveBackward) movementImpulse.z += actualMoveSpeed;\n\n            if (this.moveLeft) movementImpulse.x -= actualMoveSpeed;\n            if (this.moveRight) movementImpulse.x += actualMoveSpeed;\n\n            if (this.canJump() && this.jump) movementImpulse.y += actualMoveSpeed * 2;\n            movementImpulse = movementImpulse.multiplyScalar(this.mass * 0.2);\n\n            let quat: THREE.Quaternion = new THREE.Quaternion();\n            quat.setFromEuler(new THREE.Euler(this.pitchObject.rotation.x, this.yawObject.rotation.y, 0, \"XYZ\"));\n            movementImpulse.applyQuaternion(quat);\n            this.physics.applyImpulse(new CANNON.Vec3(movementImpulse.x, movementImpulse.y, movementImpulse.z), new CANNON.Vec3());\n        }\n        this.yawObject.position.set(this.physics.position.x, this.physics.position.y, this.physics.position.z);\n\n        let cameraQuat = this.autowired.camera.getWorldQuaternion();\n        let laserOffsetQuat = new THREE.Quaternion();\n        laserOffsetQuat.setFromEuler(new THREE.Euler(Math.PI / 2, 0, 0));\n        for (let laserbeam of this.laserBeams) {\n            let position = this.pitchObject.localToWorld(new THREE.Vector3(0, -0.2, 0));\n            laserbeam.position.set(position.x, position.y, position.z);\n            laserbeam.setRotationFromQuaternion(cameraQuat.multiply(laserOffsetQuat));\n\n        }\n    };\n\n    getDistanceToWall(): number {\n        let returnValue = 1000;\n        let roomExtent = Room.blockSize / 2;\n        let myRadius: number = this.radius;\n        let position: THREE.Vector3 = this.yawObject.position;\n        let x: number = Math.abs(position.x);\n        let z: number = Math.abs(position.z);\n        returnValue = Math.min(returnValue, roomExtent - (x + myRadius));\n        returnValue = Math.min(returnValue, roomExtent - (z + myRadius));\n        return returnValue;\n    }\n\n    getObject(): THREE.Object3D {\n        return this.yawObject;\n    };\n}",
    "import {Autowired} from \"./Autowired\";\n//http://stackoverflow.com/questions/31655888/how-to-cast-a-visible-ray-threejs\nexport class CrossHair {\n    autowired: Autowired;\n    mesh: THREE.Mesh;\n\n\n    constructor(autowired: Autowired) {\n        this.autowired = autowired;\n\n        let material = new THREE.LineBasicMaterial({color: 0xAAFFAA});\n\n        // crosshair size\n        let x = 0.01;\n        let y = 0.01;\n\n        let geometry = new THREE.Geometry();\n\n        // crosshair\n        geometry.vertices.push(new THREE.Vector3(0, y, 0));\n        geometry.vertices.push(new THREE.Vector3(0, -y, 0));\n        geometry.vertices.push(new THREE.Vector3(0, 0, 0));\n        geometry.vertices.push(new THREE.Vector3(x, 0, 0));\n        geometry.vertices.push(new THREE.Vector3(-x, 0, 0));\n\n        let mesh = new THREE.Line(geometry, material);\n\n        // place it in the center\n        let crosshairPercentX = 50;\n        let crosshairPercentY = 50;\n        let crosshairPositionX = (crosshairPercentX / 100) * 2 - 1;\n        let crosshairPositionY = (crosshairPercentY / 100) * 2 - 1;\n\n        mesh.position.x = crosshairPositionX * ((autowired.camera as THREE.PerspectiveCamera).aspect);\n        mesh.position.y = crosshairPositionY;\n\n        mesh.position.z = -0.5;\n\n        this.autowired.camera.add(mesh);\n    }\n}",
    "import {Autowired} from \"./Autowired\";\n//http://stackoverflow.com/questions/15248872/dynamically-create-2d-text-in-three-js\nexport class Scoreboard {\n    autowired: Autowired;\n    score: number = 0;\n    highscore: number = 0;\n    scoreDiv: HTMLDivElement;\n    distanceToWallDiv: HTMLDivElement;\n    highscoreDiv: HTMLDivElement;\n    helpTextDiv: HTMLDivElement;\n\n    constructor() {\n        let element = document.body;\n\n        this.scoreDiv = document.createElement('div');\n        this.scoreDiv.style.position = 'absolute';\n        this.scoreDiv.style.color = \"#ffa500\";\n        this.scoreDiv.innerHTML = \"\";\n        this.scoreDiv.style.top = '50px';\n        this.scoreDiv.style.left = '50px';\n        this.scoreDiv.style.fontSize = \"100px\";\n        element.appendChild(this.scoreDiv);\n\n        this.distanceToWallDiv = document.createElement('div');\n        this.distanceToWallDiv.style.position = 'absolute';\n        this.distanceToWallDiv.style.color = \"#ffa500\";\n        this.distanceToWallDiv.innerHTML = \"\";\n        this.distanceToWallDiv.style.top = '150px';\n        this.distanceToWallDiv.style.left = '50px';\n        this.distanceToWallDiv.style.fontSize = \"25px\";\n        element.appendChild(this.distanceToWallDiv);\n\n        this.highscoreDiv = document.createElement('div');\n        this.highscoreDiv.style.position = 'absolute';\n        this.highscoreDiv.style.color = \"#ffa500\";\n        this.highscoreDiv.innerHTML = \"\";\n        this.highscoreDiv.style.top = '175px';\n        this.highscoreDiv.style.left = '50px';\n        this.highscoreDiv.style.fontSize = \"25px\";\n        element.appendChild(this.highscoreDiv);\n\n        this.helpTextDiv = document.createElement('div');\n        this.helpTextDiv.style.position = 'absolute';\n        this.helpTextDiv.style.color = \"#ffa500\";\n        this.helpTextDiv.innerHTML = 'Press R To Try Again';\n        this.helpTextDiv.style.display = \"none\";\n        this.helpTextDiv.style.fontSize = \"50px\";\n        this.helpTextDiv.style.top = \"50%\";\n        this.helpTextDiv.style.left = \"50%\";\n        this.helpTextDiv.style.marginTop = \"-50px\";\n        this.helpTextDiv.style.marginLeft = \"-200px\";\n        this.helpTextDiv.style.width = \"400px\";\n        this.helpTextDiv.style.height = \"100px\";\n        this.helpTextDiv.style.textAlign = \"center\";\n        this.helpTextDiv.style.verticalAlign = \"middle\";\n        element.appendChild(this.helpTextDiv);\n    }\n\n    public addScore() {\n        this.score++;\n        this.highscore = Math.max(this.score, this.highscore);\n    }\n\n    public reset() {\n        this.score = 0;\n    }\n\n    public update() {\n        this.scoreDiv.innerText = this.score.toFixed(0);\n        let distanceToWall: number = Math.max(this.autowired.firstPersonControls.getDistanceToWall(), 0.0001);\n        distanceToWall = (this.autowired.isGameOver) ? 0 : distanceToWall;\n        this.distanceToWallDiv.innerText = \"DISTANCE TO WALL: \" + distanceToWall.toFixed(2);\n        this.highscoreDiv.innerText = \"HIGHSCORE: \" + this.highscore.toFixed(0);\n\n        this.helpTextDiv.style.display = (this.autowired.isGameOver) ? \"initial\" : \"none\";\n    }\n}",
    "import {MyMaterials} from \"./MyMaterials\";\nimport {CubeManager} from \"./CubeManager\";\nimport {FirstPersonControls} from \"./FirstPersonControls\";\nimport {Room} from \"./Room\";\nimport {CrossHair} from \"./CrossHair\";\nimport {Scoreboard} from \"./Scoreboard\";\nimport PCFSoftShadowMap = THREE.PCFSoftShadowMap;\nexport class Autowired {\n    isGameOver: boolean;\n\n    camera: THREE.Camera;\n    scene: THREE.Scene;\n    glowScene: THREE.Scene;\n    world: CANNON.World;\n    myMaterials: MyMaterials;\n    cubeManager: CubeManager;\n    firstPersonControls: FirstPersonControls;\n    room: Room;\n    crossHair: CrossHair;\n    scoreboard: Scoreboard;\n\n    canvasElement: JQuery;\n    renderer: THREE.WebGLRenderer;\n\n    constructor(scoreboard: Scoreboard) {\n        this.scoreboard = scoreboard;\n        this.scoreboard.autowired = this;\n        this.isGameOver = false;\n        this.canvasElement = $(\"#myCanvas\");\n        let WIDTH = window.innerWidth;\n        let HEIGHT = window.innerHeight;\n\n        let VIEW_ANGLE = 75;\n        let ASPECT = WIDTH / HEIGHT;\n        let NEAR = 0.1;\n        let FAR = 100;\n\n\n        this.canvasElement.get(0).addEventListener('click', function (event) {\n            document.body.requestPointerLock();\n        }, false);\n\n\n        this.renderer = new THREE.WebGLRenderer({\n            canvas: <HTMLCanvasElement>this.canvasElement.get(0),\n            alpha: true,\n            antialias: true,\n            precision: \"highp\"\n        });\n        this.renderer.autoClear = false;\n        this.renderer.shadowMap.enabled = true;\n        this.renderer.shadowMap.type = PCFSoftShadowMap;\n        this.renderer.setSize(WIDTH, HEIGHT);\n\n        this.camera = new THREE.PerspectiveCamera(\n            VIEW_ANGLE,\n            ASPECT,\n            NEAR,\n            FAR);\n\n        this.scene = new THREE.Scene();\n\n        let light = new THREE.PointLight(0xFFFFFF, 0.5, 30);\n        light.position.set(0, 0, 0);\n        this.scene.add(light);\n\n        this.scene.add(new THREE.AmbientLight(0x404040));\n\n        this.glowScene = new THREE.Scene();\n        this.glowScene.add(new THREE.AmbientLight(0xFFFFFF));\n\n        let dirLight = new THREE.PointLight(0xffffff, 1);\n        this.camera.add(dirLight);\n        this.glowScene.add(dirLight);\n\n        this.world = new CANNON.World();\n        this.world.gravity.set(0, -10, 0); // m/s²\n\n        this.myMaterials = new MyMaterials(this);\n\n        this.cubeManager = new CubeManager(this);\n        this.room = new Room(this);\n\n\n        this.firstPersonControls = new FirstPersonControls(this, document);\n        this.scene.add(this.firstPersonControls.getObject());\n        this.world.addBody(this.firstPersonControls.physics);\n\n        this.crossHair = new CrossHair(this);\n    }\n}",
    "/// <reference path=\"definitions/three.d.ts\" />\nimport {Autowired} from \"./Autowired\";\n\nexport class Room {\n    static blockSize: number = 10;\n\n    autowired: Autowired;\n\n    bottomMesh: THREE.Mesh;\n    topMesh: THREE.Mesh;\n    leftMesh: THREE.Mesh;\n    rightMesh: THREE.Mesh;\n    forwardMesh: THREE.Mesh;\n    backwardMesh: THREE.Mesh;\n\n    bottomPhysics: CANNON.Body;\n    topPhysics: CANNON.Body;\n    leftPhysics: CANNON.Body;\n    rightPhysics: CANNON.Body;\n    forwardPhysics: CANNON.Body;\n    backwardPhysics: CANNON.Body;\n\n    constructor(autowired: Autowired) {\n        this.autowired = autowired;\n\n        this.bottomMesh = this.createCubeThreeFloor();\n        this.topMesh = this.createCubeThree();\n        this.leftMesh = this.createCubeThree();\n        this.rightMesh = this.createCubeThree();\n        this.forwardMesh = this.createCubeThree();\n        this.backwardMesh = this.createCubeThree();\n\n        this.bottomPhysics = this.createCubePhysics();\n        this.topPhysics = this.createCubePhysics();\n        this.leftPhysics = this.createCubePhysics();\n        this.rightPhysics = this.createCubePhysics();\n        this.forwardPhysics = this.createCubePhysics();\n        this.backwardPhysics = this.createCubePhysics();\n\n        this.bottomPhysics.position.set(0, -Room.blockSize, 0);\n        this.topPhysics.position.set(0, Room.blockSize, 0);\n        this.leftPhysics.position.set(Room.blockSize, 0, 0);\n        this.rightPhysics.position.set(-Room.blockSize, 0, 0);\n        this.forwardPhysics.position.set(0, 0, Room.blockSize);\n        this.backwardPhysics.position.set(0, 0, -Room.blockSize);\n\n        for (let mesh of this.meshes()) {\n            this.autowired.scene.add(mesh)\n        }\n        for (let physicBody of this.physics()) {\n            this.autowired.world.addBody(physicBody)\n        }\n    }\n\n    createCubeThree(width = Room.blockSize, height = Room.blockSize, depth = Room.blockSize) {\n        let geometry = new THREE.BoxGeometry(width, height, depth);\n        let material = new THREE.MeshStandardMaterial(\n            {\n                color: \"blue\"\n            }\n        );\n        let mesh: THREE.Mesh = new THREE.Mesh(geometry, material);\n        return mesh;\n    }\n\n    createCubeThreeFloor(width = Room.blockSize, height = Room.blockSize, depth = Room.blockSize) {\n        let geometry = new THREE.BoxGeometry(width, height, depth);\n        let material = new THREE.MeshBasicMaterial(\n            {\n                color: \"gray\"\n            }\n        );\n        let mesh: THREE.Mesh = new THREE.Mesh(geometry, material);\n        return mesh;\n    }\n\n    createCubePhysics(width = Room.blockSize, height = Room.blockSize, depth = Room.blockSize): CANNON.Body {\n        let sphereBody = new CANNON.Body({\n            mass: 0,\n            shape: new CANNON.Box(new CANNON.Vec3(width / 2, height / 2, depth / 2)),\n            material: this.autowired.myMaterials.slipperyMaterial\n        });\n        return sphereBody;\n    }\n\n    update() {\n        Util.copyPhysicsTo(this.bottomPhysics, this.bottomMesh);\n        Util.copyPhysicsTo(this.topPhysics, this.topMesh);\n        Util.copyPhysicsTo(this.leftPhysics, this.leftMesh);\n        Util.copyPhysicsTo(this.rightPhysics, this.rightMesh);\n        Util.copyPhysicsTo(this.forwardPhysics, this.forwardMesh);\n        Util.copyPhysicsTo(this.backwardPhysics, this.backwardMesh);\n    }\n\n    meshes(): THREE.Mesh[] {\n        return [this.bottomMesh, this.topMesh, this.leftMesh, this.rightMesh, this.forwardMesh, this.backwardMesh];\n    }\n\n    physics(): CANNON.Body[] {\n        return [this.bottomPhysics, this.topPhysics, this.leftPhysics, this.rightPhysics, this.forwardPhysics, this.backwardPhysics];\n    }\n}",
    "import {Room} from \"./Room\";\nimport {Autowired} from \"./Autowired\";\nexport class Cube {\n    autowired: Autowired;\n    threeCube: THREE.Mesh;\n    physicsBody: CANNON.Body;\n\n    constructor(autowired: Autowired) {\n        this.autowired = autowired;\n\n        let width: number = (Math.random() * 0.3 + 0.2);\n        let height: number = (Math.random() * 0.3 + 0.2);\n        let depth: number = (Math.random() * 0.3 + 0.2);\n        this.threeCube = this.createCubeThree(width, height, depth);\n        this.physicsBody = this.createCubePhysics(width, height, depth);\n\n        this.autowired.scene.add(this.threeCube);\n        this.autowired.world.addBody(this.physicsBody);\n    }\n\n    createCubeThree(width: number, height: number, depth: number): THREE.Mesh {\n        let geometry = new THREE.BoxGeometry(width, height, depth);\n        let material = new THREE.MeshPhongMaterial({\n            color: 0x839CA5,\n            specular: 0xFFFFFF,\n            shininess: 200\n        });\n        let mesh: THREE.Mesh = new THREE.Mesh(geometry, material);\n        mesh.receiveShadow = true;\n        return mesh;\n    }\n\n    createCubePhysics(width: number, height: number, depth: number): CANNON.Body {\n        let x: number = (Math.random() - 0.5) * Room.blockSize;\n        let z: number = (Math.random() - 0.5) * Room.blockSize;\n        let density: number = 10.0;\n        let mass: number = width * height * depth * density;\n        let sphereBody = new CANNON.Body({\n            mass: mass,\n            position: new CANNON.Vec3(x, Room.blockSize / 2 - 1 - height, z),\n            shape: new CANNON.Box(new CANNON.Vec3(width / 2, height / 2, depth / 2)),\n            material: this.autowired.myMaterials.cubeMaterial,\n            linearDamping: 0.3,\n            angularDamping: 0.6\n        });\n        return sphereBody;\n    }\n\n    update() {\n        let pointingTowardsPlayer: CANNON.Vec3 = this.autowired.firstPersonControls.physics.position.clone().vsub(this.physicsBody.position).unit();\n        this.physicsBody.applyImpulse(pointingTowardsPlayer.scale(0.01), new CANNON.Vec3());\n        Util.copyPhysicsTo(this.physicsBody, this.threeCube);\n    }\n\n    destroy() {\n        this.autowired.scene.remove(this.threeCube);\n        this.autowired.world.remove(this.physicsBody);\n    }\n}",
    "/// <reference path=\"Cube.ts\" />\n/// <reference path=\"Room.ts\" />\n/// <reference path=\"definitions/cannon.d.ts\" />\n\nimport ShadowMapType = THREE.ShadowMapType;\nimport PCFSoftShadowMap = THREE.PCFSoftShadowMap;\nimport {Autowired} from \"./Autowired\";\nimport {Scoreboard} from \"./Scoreboard\";\n\nclass Main {\n    autowired: Autowired;\n\n    scoreboard: Scoreboard;\n\n    fixedTimeStep: number = 1.0 / 60.0; // seconds\n    timeStepSubdivisions: number = 10;\n\n    constructor() {\n        document.addEventListener('keydown',\n            (event) => {\n                if (event.keyCode == 82) {   //R\n                    this.reset()\n                }\n            },\n            false);\n        this.reset();\n    }\n\n    reset = () => {\n        this.scoreboard = (this.scoreboard == null) ? new Scoreboard() : this.scoreboard;\n        this.scoreboard.reset();\n        this.autowired = new Autowired(this.scoreboard);\n    };\n\n    render = () => {\n        requestAnimationFrame(this.render);\n\n        if (!this.autowired.isGameOver) {\n            for (let i = 0; i < this.timeStepSubdivisions; i++) {\n                this.autowired.world.step(this.fixedTimeStep / this.timeStepSubdivisions);\n            }\n\n            this.autowired.cubeManager.update();\n            this.autowired.room.update();\n            this.autowired.firstPersonControls.update(this.fixedTimeStep);\n\n            if (!this.autowired.isGameOver && this.autowired.firstPersonControls.getDistanceToWall() < 0.045) {\n                this.autowired.isGameOver = true;\n                this.playGameOverSound();\n            }\n        }\n\n        this.autowired.scoreboard.update();\n\n        this.autowired.renderer.clear();\n        this.autowired.renderer.render(this.autowired.scene, this.autowired.camera);\n        this.autowired.renderer.clearDepth();\n        this.autowired.renderer.render(this.autowired.glowScene, this.autowired.camera);\n    };\n\n    playGameOverSound() {\n        beeplay()\n            .play(['C#7', 'E#7', 'G#7'], 2);\n    }\n\n}\nlet main: Main = new Main();\nmain.render();",
    "class Util {\n    static copyPhysicsTo(physics, mesh) {\n        let position: CANNON.Vec3 = physics.position;\n        mesh.position.set(position.x, position.y, position.z);\n        let quaternion: CANNON.Quaternion = physics.quaternion;\n        mesh.quaternion.set(quaternion.x, quaternion.y, quaternion.z, quaternion.w);\n    }\n}"
  ]
}